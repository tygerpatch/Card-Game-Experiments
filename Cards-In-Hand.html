<html>
	<head>
		<script type="text/javascript" src="jquery.min.js"></script>
		<style type="text/css">
		.card_img {
			width: 170px;
			height: 246px;
			
			background: url(svg-cards.gif);					
		}
		</style>
	</head>
	<body>

		<!-- cards in player's hand -->
		<div id="handDiv"></div>

		<script type="text/javascript">

		var PIXEL_WIDTH_OF_CARD = 170;
		var PIXEL_HEIGHT_OF_CARD = 246;

		var zIndex = null;
		var firstCard = null;
	
		function createCardDiv(row, column, index) {

			var div = document.createElement('div');	
			div.className = 'card_img';
			div.style.backgroundPosition = -(PIXEL_WIDTH_OF_CARD * column) + ' ' + -(PIXEL_HEIGHT_OF_CARD * row);
			div.style.position = 'absolute';
			div.style.zIndex = index;

			div.setAttribute('id', '' + index);
			
			// bring card to front when mouse is hovered over it
			div.onmouseover = function() {
				// save zIndex for when user tries to swap cards
				zIndex = this.style.zIndex;
				this.style.zIndex = cards.length;
			}
	
			// put card back in hand when mouse moves away from it
			div.onmouseout = function() {
				// restore zIndex of card image
				this.style.zIndex = zIndex;
			}
	
			// swap card
			div.onclick = function() {			
				// if this is the first card clicked...
				if(firstCard == null){
					// ...raise it up
					this.style.top = (this.offsetTop - 20) + 'px';
					firstCard = this;
				} 
				else {
					// ...otherwise lower previously clicked on card
					firstCard.style.top = (firstCard.offsetTop + 20) + 'px';
	
					// and if a second, different card was clicked...
					if(firstCard != this) {
						// swap Card objects in array
						var card = cards[firstCard.id];
						cards[firstCard.id] = cards[this.id];
						cards[this.id] = card;
	
						// swap backgroundPosition
						var backgroundPosition = firstCard.style.backgroundPosition; 
						firstCard.style.backgroundPosition = this.style.backgroundPosition;
						this.style.backgroundPosition = backgroundPosition;
					}
	
					// finally, reset so no cards have been selected for swap
					firstCard = null;
				}
			}
			
			return div;		
		}

		var cards = new Array();

		// *** populate array

		function Card(row, column) {
			this.row = row;
			this.column = column;
		}

		// two of clubs: row 0, column 1
		var card = new Card(0, 1);		
		cards.push(card);

		// jack of diamonds: row 1, column 10
		card = new Card(1, 10);		
		cards.push(card);

		// king of hearts: row 2, column 12
		card = new Card(2, 12);		
		cards.push(card);

		// ace of spades: row 3, column 0
		card = new Card(3, 0);		
		cards.push(card);

		// black joker: row 4, column 0
		card = new Card(4, 0);		
		cards.push(card);

		var handDiv = document.getElementById('handDiv');

		// for each card in array
		for(var index = 0; index < cards.length; index++) {
			var cardDiv = createCardDiv(cards[index].row, cards[index].column, index);
			putCardInHand(cardDiv, index);
		}
		
		function putCardInHand(cardDiv, id) {
			handDiv.appendChild(cardDiv);				
		
			if(id > 0) {
				cardDiv.style.left = ((document.getElementById('' + (id - 1)).offsetLeft || 0) + 20) + 'px';
			}
		}
		</script>
	</body>
</html>